# ===========================================
# GCP migration – replace AWS/Neon with GCP
# Copy to .env and fill in your values.
# View: type .env.gcp.example  (Windows) or cat .env.gcp.example  (Unix)
# ===========================================

# --- Server ---
PORT=9000
NODE_ENV=development
API_PREFIX=/api

# --- Database (GCP Cloud SQL for PostgreSQL) ---
# Option A: Cloud SQL with public IP
# DATABASE_URL="postgresql://USER:PASSWORD@INSTANCE_PUBLIC_IP:5432/saas_platform?sslmode=require"
# DIRECT_URL="postgresql://USER:PASSWORD@INSTANCE_PUBLIC_IP:5432/saas_platform?sslmode=require"

# Option B: Cloud SQL Auth Proxy (recommended for production – proxy runs locally and forwards to instance)
# Run: cloud_sql_proxy -instances=PROJECT:REGION:INSTANCE=tcp:5432
# DATABASE_URL="postgresql://USER:PASSWORD@localhost:5432/saas_platform"
# DIRECT_URL="postgresql://USER:PASSWORD@localhost:5432/saas_platform"

# Option C: Unix socket (when app runs on GCP, e.g. Cloud Run)
# DATABASE_URL="postgresql://USER:PASSWORD@/saas_platform?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME"
# DIRECT_URL="postgresql://USER:PASSWORD@/saas_platform?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME"

DATABASE_URL="postgresql://USER:PASSWORD@YOUR_CLOUD_SQL_IP:5432/saas_platform?sslmode=require"
DIRECT_URL="postgresql://USER:PASSWORD@YOUR_CLOUD_SQL_IP:5432/saas_platform?sslmode=require"

# --- GCP (optional: for Secret Manager, Cloud Storage, etc.) ---
# GCP_PROJECT_ID=your-gcp-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# --- Auth & security ---
JWT_SECRET=your-very-secure-jwt-secret-min-32-chars
CONFIG_ENCRYPTION_KEY=your-very-secure-encryption-key-32-chars-min

# --- CORS & frontend ---
CORS_ORIGINS=https://your-frontend-domain.com,http://localhost:5000
FRONTEND_URL=https://your-frontend-domain.com

# --- Email (SMTP or Gmail) ---
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your@email.com
SMTP_PASS=yourpassword
SMTP_FROM=Your App <your@email.com>
# FROM_EMAIL="SaaS Platform" <noreply@yourdomain.com>

# Gmail (optional – set USE_GMAIL=true to use Gmail instead of SMTP)
# USE_GMAIL=true
# GMAIL_USER=your@gmail.com
# GMAIL_PASS=your-app-password

# --- Stripe ---
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
# STRIPE_BASIC_PRICE_ID=price_xxx
# STRIPE_PRO_PRICE_ID=price_xxx
# STRIPE_ENTERPRISE_PRICE_ID=price_xxx

# --- M-Pesa ---
MPESA_CONSUMER_KEY=xxx
MPESA_CONSUMER_SECRET=xxx
MPESA_SHORTCODE=174379
MPESA_PASSKEY=xxx
MPESA_CALLBACK_URL=https://your-domain.com/mpesa/callback
# MPESA_ENVIRONMENT=sandbox

# --- OpenAI ---
OPENAI_API_KEY=sk-proj-xxx
OPENAI_MODEL=gpt-4o
OPENAI_CHAT_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EXTRACTOR_MODEL=gpt-4o
OPENAI_MAX_CHAT_TOKENS=1200
OPENAI_MAX_EXTRACTOR_TOKENS=300
OPENAI_MAX_VISUALIZATION_TOKENS=600

# --- reCAPTCHA ---
# RECAPTCHA_SECRET_KEY=xxx

# --- Admin / support ---
# ADMIN_EMAIL=admin@yourdomain.com
# SUPPORT_EMAIL=support@yourdomain.com

# --- Cookie (production cross-origin) ---
# COOKIE_SECURE=true
# COOKIE_SAME_SITE_ACCESS=none
# COOKIE_SAME_SITE_REFRESH=none
# COOKIE_DOMAIN=.yourdomain.com

# --- Encryption (M-Pesa / other) ---
# ENCRYPTION_KEY=xxx
# BASE_URL=https://your-api-domain.com
